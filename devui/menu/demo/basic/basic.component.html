<div class="demo-menu">
  <d-menu [options]="menu">
    <ng-container *ngFor="let m of menu; trackBy: trackByMenu">
      <d-sub-menu
        [title]="m.name"
        [open]="openKeys.includes(m.key)"
        (openChange)="openChange($event, m.key)"
        *ngIf="m.children?.length; else leafTpl"
      >
        <div
          d-menu-item
          (itemClick)="itemClick(item.key)"
          [active]="item.key === activeKey"
          *ngFor="let item of m.children; trackBy: trackByMenu"
        >
          <d-icon class="devui-menu-item-icon" icon="icon-op-list" />
          <span class="devui-menu-item-name">{{ item.name }}</span>
        </div>
        <d-sub-menu [title]="'abc'">
          <div d-menu-item>
            <d-icon class="devui-menu-item-icon" icon="icon-op-list" />
            <span class="devui-menu-item-name">ddd</span>
          </div>
          <div d-menu-item>
            <d-icon class="devui-menu-item-icon" icon="icon-op-list" />
            <span class="devui-menu-item-name">ddd</span>
          </div>
        </d-sub-menu>
      </d-sub-menu>
      <ng-template #leafTpl>
        <div d-menu-item (itemClick)="itemClick(m.key)" [active]="m.key === activeKey">
          <d-icon class="devui-menu-item-icon" icon="icon-op-list" />
          <span class="devui-menu-item-name over-flow-ellipsis">{{ m.name }}</span>
        </div>
      </ng-template>
    </ng-container>
  </d-menu>
</div>
