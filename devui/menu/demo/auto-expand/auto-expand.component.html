<div class="demo-menu">
  <div d-menu>
    <ng-container *ngFor="let m of menus; trackBy: trackByMenu">
      <div
        d-sub-menu
        [title]="m.name"
        [icon]="m.icon"
        [open]="openKeys.includes(m.key)"
        (openChange)="openChange($event, m.key)"
        *ngIf="m.children?.length; else leafTpl"
      >
        <div
          d-menu-item
          (itemClick)="itemClick(item.key)"
          [active]="item.key === activeKey"
          *ngFor="let item of m.children; trackBy: trackByMenu"
        >
          <d-icon class="devui-menu-item-icon" icon="icon-op-list" />
          <span class="devui-menu-item-name">{{ item.name }}</span>
        </div>
      </div>
      <ng-template #leafTpl>
        <div d-menu-item (itemClick)="itemClick(m.key)" [active]="m.key === activeKey">
          <d-icon class="devui-menu-item-icon" icon="icon-op-list" />
          <span class="devui-menu-item-name over-flow-ellipsis">{{ m.name }}</span>
        </div>
      </ng-template>
    </ng-container>
  </div>
</div>
